(()=>{"use strict";var re={"./src/constrainedModel.js":
/*!*********************************!*\
        !*** ./src/constrainedModel.js ***!
        \*********************************/(I,f,g)=>{g.r(f),g.d(f,{constrainedModel:()=>y,default:()=>j});var A=g(
/*! ./utils/deepClone.js */
"./src/utils/deepClone.js"),V=g(
/*! ./utils/enums.js */
"./src/utils/enums.js");const y=function(e,S,x){const B=x.Range,h=function(n,r){const t=n.range,o=r.range;if(t[0]<o[0]||t[0]===o[0]&&t[3]<o[1])return-1};let i=(0,A.default)(S).sort(h);const _=function(n){const r=e.getValue();n.forEach(function(t,o){const a=function(n,r){const t=r.split("\n"),o=t.length,a=[];return n.forEach(function(l,u){if(0===l)throw new Error("Range values cannot be zero");switch(u){case 0:if(l<0)throw new Error("Start Line of Range cannot be negative");if(l>o)throw new Error("Provided Start Line("+l+") is out of bounds. Max Lines in content is "+o);a[u]=l;break;case 1:{let d=l;const C=a[0],b=t[C-1].length;if(d<0){if(d=b-Math.abs(d),d<0)throw new Error("Provided Start Column("+l+") is out of bounds. Max Column in line "+C+" is "+b)}else if(d>b+1)throw new Error("Provided Start Column("+l+") is out of bounds. Max Column in line "+C+" is "+b);a[u]=d}break;case 2:{let d=l;if(d<0){if(d=o-Math.abs(l),d<0)throw new Error("Provided End Line("+l+") is out of bounds. Max Lines in content is "+o);d<a[0]&&console.warn("Provided End Line("+l+") is less than the start Line, the Restriction may not behave as expected")}else if(l>o)throw new Error("Provided End Line("+l+") is out of bounds. Max Lines in content is "+o);a[u]=d}break;case 3:{let d=l;const C=a[2],b=t[C-1].length;if(d<0){if(d=b-Math.abs(d),d<0)throw new Error("Provided End Column("+l+") is out of bounds. Max Column in line "+C+" is "+b)}else if(d>b+1)throw new Error("Provided Start Column("+l+") is out of bounds. Max Column in line "+C+" is "+b);a[u]=d}}}),a}(t.range,r),l=a[0],u=a[1],d=a[2],C=a[3];t._originalRange=a.slice(),t.range=new B(l,u,d,C),t.index=o,t.allowMultiline||(t.allowMultiline=B.spansMultipleLines(t.range)),t.label||(t.label=`[${l},${u} -> ${d}${C}]`)})},P=function(){return i.reduce(function(n,r){return n[r.label]={allowMultiline:r.allowMultiline||!1,index:r.index,range:Object.assign({},r.range),originalRange:r._originalRange.slice()},n},{})},U=function(){return Promise.resolve().then(function(){e.editInRestrictedArea=!0,e.undo(),e.editInRestrictedArea=!1,e._hasHighlight&&e._oldDecorationsSource&&(e.deltaDecorations(e._oldDecorations,e._oldDecorationsSource),e._oldDecorationsSource.forEach(function(n){n.range=e.getDecorationRange(n.id)}))})},q=function(){console.debug("handler for unhandled promise rejection")},oe=function(n){for(let r in n){const t=n[r];t.range=t.prevRange}},ee=function(n,r){return!n.allowMultiline&&r.includes("\n")},ne=function(n,r,t){return n.validate&&!n.validate(r,t,n.lastInfo)},Q={_isRestrictedModel:!0,_isRestrictedValueValid:!0,_editableRangeChangeListener:[],_isCursorAtCheckPoint:function(n){n.some(function(r){const t=r.lineNumber,o=r.column,a=i.length;for(let l=0;l<a;l++){const u=i[l].range;if(u.startLineNumber===t&&u.startColumn===o||u.endLineNumber===t&&u.endColumn===o)return e.pushStackElement(),!0}})},_currentCursorPositions:[]};_(i),e._hasHighlight=!1,Q._restrictionChangeListener=e.onDidChangeContent(function(n){const r=n.isUndoing;if(e._isRestrictedValueValid=!0,r&&e.editInRestrictedArea)e.editInRestrictedArea&&(e._isRestrictedValueValid=!1);else{const t=n.changes.sort(h),o={},a=i.length;if(t.every(function(u){const d=u.range,C=d.toString();o[C]=null;for(let b=0;b<a;b++){const p=i[b];if(p.range.containsRange(d))return!ee(p,u.text)&&(o[C]=p,!0)}return!1})){t.forEach(function(C,b){const p=C.range,N=o[p.toString()],D=N.range,F=C.text||"",m=(F.match(/\n/g)||[]).length,E=F.split(/\n/g).pop().length,s=p.endLineNumber-p.startLineNumber,O=p.endColumn-p.startColumn;let k=D.endLineNumber,H=D.endColumn,Y=0;(D.endLineNumber===p.startLineNumber||D.endLineNumber===p.endLineNumber)&&(Y+=D.endColumn-p.startColumn+1);const v=function(n,r){const t={},o=n.range;return""===n.text?t.isDeletion=!0:o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn?t.isAddition=!0:t.isReplacement=!0,t.startLineOfRange=o.startLineNumber===r.startLineNumber,t.startColumnOfRange=o.startColumn===r.startColumn,t.endLineOfRange=o.endLineNumber===r.endLineNumber,t.endColumnOfRange=o.endColumn===r.endColumn,t.middleLineOfRange=!t.startLineOfRange&&!t.endLineOfRange,r.startLineNumber===r.endLineNumber?t.rangeIsSingleLine=!0:t.rangeIsMultiLine=!0,t}(C,D);N.lastInfo=v,(v.isAddition||v.isReplacement)&&(v.rangeIsSingleLine&&(0===m?H+=E:(k+=m,v.startColumnOfRange?H+=E:H=v.endColumnOfRange?E+1:E+Y)),v.rangeIsMultiLine&&(k+=m,v.endLineOfRange&&(0===m?H+=E:H=Y+E))),(v.isDeletion||v.isReplacement)&&(v.rangeIsSingleLine&&(H-=O),v.rangeIsMultiLine&&(v.endLineOfRange?(k-=s,H-=O):k-=s)),function(n,r,t,o,a,l){let u=r.endLineNumber,d=r.endColumn;n.prevRange=r,n.range=r.setEndPosition(t,o);const C=i.length;let b=a.length;const p=o-d,N=t-u,D=e._currentCursorPositions||[],F=D.length;if(b!==F&&(b=(a=a.filter(function(m){const E=m.range;for(let s=0;s<F;s++){const O=D[s];if(E.startLineNumber===O.startLineNumber&&E.endLineNumber===O.endLineNumber&&E.startColumn===O.startColumn&&E.endColumn===O.endColumn)return!0}return!1})).length),0!==N){for(let m=n.index+1;m<C;m++){const E=i[m],s=E.range;u===s.startLineNumber&&(s.startColumn+=p),u===s.endLineNumber&&(s.endColumn+=p),s.startLineNumber+=N,s.endLineNumber+=N,E.range=s}for(let m=l+1;m<b;m++){const E=a[m],s=E.range,O=s.toString(),k=rangeMap[O];delete rangeMap[O],u===s.startLineNumber&&(s.startColumn+=p),u===s.endLineNumber&&(s.endColumn+=p),s.startLineNumber+=N,s.endLineNumber+=N,E.range=s,rangeMap[s.toString()]=k}}else{for(let m=n.index+1;m<C;m++){const E=i[m],s=E.range;if(s.startLineNumber>u)break;s.startColumn+=p,s.endColumn+=p,E.range=s}for(let m=l+1;m<b;m++){const E=a[m],s=E.range,O=s.toString(),k=rangeMap[O];if(delete rangeMap[O],s.startLineNumber>u){rangeMap[s.toString()]=k;break}s.startColumn+=p,s.endColumn+=p,E.range=s,rangeMap[s.toString()]=k}}}(N,D,k,H,t,b)});const u=e.getValueInEditableRanges(),d={};for(let C in o){const b=o[C],p=b.range,N=b.label||p.toString(),D=u[N];if(ne(b,D,p))return oe(o),void U();d[N]=D}e._hasHighlight&&e._oldDecorationsSource.forEach(function(C){C.range=e.getDecorationRange(C.id)}),function(n,r){const t=P();e._editableRangeChangeListener.forEach(function(o){o.call(e,n,r,t)})}(d,u)}else U()}}),window.onerror=q;const te={editInRestrictedArea:!1,getCurrentEditableRanges:P,getValueInEditableRanges:function(){return i.reduce(function(n,r){return n[r.label]=e.getValueInRange(r.range),n},{})},disposeRestrictions:function(){return e._restrictionChangeListener.dispose(),window.removeEventListener("error",q),delete e.editInRestrictedArea,delete e.disposeRestrictions,delete e.getValueInEditableRanges,delete e.updateValueInEditableRanges,delete e.updateRestrictions,delete e.getCurrentEditableRanges,delete e.toggleHighlightOfEditableAreas,delete e._hasHighlight,delete e._isRestrictedModel,delete e._isCursorAtCheckPoint,delete e._currentCursorPositions,delete e._editableRangeChangeListener,delete e._restrictionChangeListener,delete e._oldDecorations,delete e._oldDecorationsSource,e},onDidChangeContentInEditableRange:function(n){"function"==typeof n&&e._editableRangeChangeListener.push(n)},updateRestrictions:function(n){i=(0,A.default)(n).sort(h),_(i)},updateValueInEditableRanges:function(n,r){if("object"!=typeof n||Array.isArray(n))throw new Error("Value must be an object");{r="boolean"==typeof r&&r;const t=i.reduce(function(o,a){return a.label&&(o[a.label]=a),o},{});for(let o in n){const a=t[o];if(a){const l=n[o];if(ee(a,l))throw new Error("Multiline change is not allowed for "+o);const u=(0,A.default)(a.range);if(u.endLine=u.startLine+l.split("\n").length-1,u.endColumn=l.split("\n").pop().length,ne(a,l,u))throw new Error("Change is invalidated by validate function of "+o);e.applyEdits([{forceMoveMarkers:!!r,range:a.range,text:l}])}else console.error("No restriction found for "+o)}}},toggleHighlightOfEditableAreas:function(){if(e._hasHighlight)e.deltaDecorations(e._oldDecorations,[]),delete e._oldDecorations,delete e._oldDecorationsSource,e._hasHighlight=!1;else{const n=i.map(function(r){const t={range:r.range,options:{className:r.allowMultiline?V.default.MULTI_LINE_HIGHLIGHT_CLASS:V.default.SINGLE_LINE_HIGHLIGHT_CLASS}};return r.label&&(t.hoverMessage=r.label),t});e._oldDecorations=e.deltaDecorations([],n),e._oldDecorationsSource=n.map(function(r,t){return Object.assign({},r,{id:e._oldDecorations[t]})}),e._hasHighlight=!0}}};for(let n in Q)Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!0,value:Q[n]});for(let n in te)Object.defineProperty(e,n,{enumerable:!1,configurable:!0,writable:!0,value:te[n]});return e},j=y},"./src/utils/deepClone.js":
/*!********************************!*\
        !*** ./src/utils/deepClone.js ***!
        \********************************/(I,f,g)=>{g.r(f),g.d(f,{deepClone:()=>A,default:()=>V});const A=function(){const y=function(h,w){return"object"!=typeof h||null===h?this.freeze?Object.freeze(h):h:h instanceof Date?this.freeze?Object.freeze(new Date(h)):new Date(h):w.call(this,h)},j=function(h,w){const i=Object.keys(h),_=new Array(i.length);for(let P=0;P<i.length;P++)_[i[P]]=y.call(this,h[i[P]],w);return _},e=function(h){return y.call(this,h,function(w){if(Array.isArray(w))return j.call(this,w,e);const i={};for(let _ in w)!this.withProto&&!1===Object.hasOwnProperty.call(w,_)||(i[_]=y.call(this,w[_],e));return i})},S=function(){const h=function(i){this[i]=["withProto","freeze"].reduce(function(P,c){return(P[c]=i>=this[c])&&(i-=this[c]),P}.bind(this),{})},w=Object.create(Object.defineProperties({},{withProto:{value:1},freeze:{value:2}}));for(let i=0;i<=3;i++)h.call(w,i);return w}(),x={withProto:e.bind(S[1]),andFreeze:e.bind(S[2]),withProtoAndFreeze:e.bind(S[3])},B=e.bind(S[0]);for(let h in x)Object.defineProperty(B,h,{enumerable:!1,writable:!1,configurable:!1,value:x[h]});return B}(),V=A},"./src/utils/definedErrors.js":
/*!************************************!*\
        !*** ./src/utils/definedErrors.js ***!
        \************************************/(I,f,g)=>{g.r(f),g.d(f,{TypeMustBe:()=>A,default:()=>y});const A=function(j,e,S){return"The value for the "+e+" should be of type "+(Array.isArray(j)?j.join(" | "):j)+". "+(S||"")},y={TypeMustBe:A}},"./src/utils/enums.js":
/*!****************************!*\
        !*** ./src/utils/enums.js ***!
        \****************************/(I,f,g)=>{g.r(f),g.d(f,{enums:()=>A,default:()=>V});const A={SINGLE_LINE_HIGHLIGHT_CLASS:"editableArea--single-line",MULTI_LINE_HIGHLIGHT_CLASS:"editableArea--multi-line"},V=A},"./src/utils/validators.js":
/*!*********************************!*\
        !*** ./src/utils/validators.js ***!
        \*********************************/(I,f,g)=>{g.r(f),g.d(f,{default:()=>V});const V={initWith:function(y){const j=document.createElement("div"),e=y.editor.create(j),S=e.constructor.name,x=e.getModel().constructor.name;return{isInstanceValid:function(i){return i.constructor.name===S},isModelValid:function(i){return i.constructor.name===x},isRangesValid:function(i){return!!Array.isArray(i)&&i.every(function(_){return"object"==typeof _&&"Object"===_.constructor.name&&!(!_.hasOwnProperty("range")||!Array.isArray(_.range)||4!==_.range.length||!_.range.every(P=>P>0&&parseInt(P)===P)||_.hasOwnProperty("allowMultiline")&&"boolean"!=typeof _.allowMultiline||_.hasOwnProperty("label")&&"string"!=typeof _.label||_.hasOwnProperty("validate")&&"function"!=typeof _.validate)})}}}}}},Z={};function T(I){var f=Z[I];if(void 0!==f)return f.exports;var g=Z[I]={exports:{}};return re[I](g,g.exports,T),g.exports}T.d=(I,f)=>{for(var g in f)T.o(f,g)&&!T.o(I,g)&&Object.defineProperty(I,g,{enumerable:!0,get:f[g]})},T.o=(I,f)=>Object.prototype.hasOwnProperty.call(I,f),T.r=I=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})};var K={};(()=>{T.r(K),T.d(K,{constrainedEditor:()=>A,default:()=>V});var I=T(
/*! ./utils/validators.js */
"./src/utils/validators.js"),f=T(
/*! ./utils/definedErrors.js */
"./src/utils/definedErrors.js"),g=T(
/*! ./constrainedModel.js */
"./src/constrainedModel.js");function A(y){if(void 0===y)throw new Error(["Please pass the monaco global variable into function as","(eg:)constrainedEditor({ range : monaco.range });"].join("\n"));const j=function(L){const R=L.getModel();if(R._isCursorAtCheckPoint){const M=L.getSelections(),U=M.map(function(W){return{lineNumber:W.positionLineNumber,column:W.positionColumn}});R._isCursorAtCheckPoint(U),R._currentCursorPositions=M}},e={},{isInstanceValid:S,isModelValid:x,isRangesValid:B}=I.default.initWith(y),c={_listener:null,_editorInstance:null,_uriRestrictionMap:e,_injectedResources:y},z=Object.create(c),G={initializeIn:function(L){if(S(L)){let R=L.getDomNode();return c._listener=j.bind(z,L),c._editorInstance=L,c._editorInstance._isInDevMode=!1,R.addEventListener("keydown",c._listener,!0),c._onChangeModelDisposable=L.onDidChangeModel(function(){R&&R.removeEventListener("keydown",c._listener,!0);const M=L.getDomNode();M&&M.addEventListener("keydown",c._listener,!0),R=M}),!0}throw new Error((0,f.TypeMustBe)("ICodeEditor","editorInstance","This type interface can be found in monaco editor documentation"))},addRestrictionsTo:function(L,R){if(x(L)){if(B(R)){const M=(0,g.default)(L,R,y,c._editorInstance);return e[M.uri.toString()]=M,M}throw new Error((0,f.TypeMustBe)("Array<RangeRestrictionObject>","ranges","Please refer constrained editor documentation for proper structure"))}throw new Error((0,f.TypeMustBe)("ICodeEditor","editorInstance","This type interface can be found in monaco editor documentation"))},removeRestrictionsIn:function(L){if(x(L)){const R=L.uri.toString(),M=e[R];return M?M.disposeRestrictions():(console.warn("Current Model is not a restricted Model"),!1)}throw new Error((0,f.TypeMustBe)("ICodeEditor","editorInstance","This type interface can be found in monaco editor documentation"))},disposeConstrainer:function(){if(c._editorInstance){const R=c._editorInstance.getDomNode();R&&R.removeEventListener("keydown",c._listener),c._onChangeModelDisposable&&c._onChangeModelDisposable.dispose(),delete c._listener,delete c._editorInstance._isInDevMode,delete c._editorInstance._devModeAction,delete c._editorInstance,delete c._onChangeModelDisposable;for(let M in e)delete e[M];return!0}return!1},toggleDevMode:function(){c._editorInstance._isInDevMode?(c._editorInstance._isInDevMode=!1,c._editorInstance._devModeAction.dispose(),delete c._editorInstance._devModeAction):(c._editorInstance._isInDevMode=!0,c._editorInstance._devModeAction=c._editorInstance.addAction({id:"showRange",label:"Show Range in console",contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(L){const M=L.getSelections().reduce(function(U,{startLineNumber:W,endLineNumber:X,startColumn:$,endColumn:J}){return U.push("range : "+JSON.stringify([W,$,X,J])),U},[]).join("\n");console.log("Selected Ranges : \n"+JSON.stringify(M,null,2))}}))}};for(let L in G)Object.defineProperty(z,L,{enumerable:!1,writable:!1,configurable:!1,value:G[L]});return Object.freeze(z)}const V=A})(),window.constrainedEditor=K.default})();